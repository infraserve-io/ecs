
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://doc.cloudtechnologyoffice.com/ecs/latest/build_strategies/index%20copy/">
      
      
      
      
      <link rel="icon" href="../../assets/favicon-16x16.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.5">
    
    
      
        <title>Configuration Build Strategies - Enterprise Configuration Service Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6a10b989.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration-build-strategies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Enterprise Configuration Service Documentation" class="md-header__button md-logo" aria-label="Enterprise Configuration Service Documentation" data-md-component="logo">
      
  <img src="../../assets/cto-logo-white-transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Enterprise Configuration Service Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration Build Strategies
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Enterprise Configuration Service Documentation" class="md-nav__button md-logo" aria-label="Enterprise Configuration Service Documentation" data-md-component="logo">
      
  <img src="../../assets/cto-logo-white-transparent.png" alt="logo">

    </a>
    Enterprise Configuration Service Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ECS Cloud
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ECS On-Premise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install ECS CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build Your First Config
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    JSON/ YAML Configs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            JSON/ YAML Configs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Build Strategies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Build Strategies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Build Schema Validation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Build Schema Validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema_validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Secret Management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Secret Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../secret_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Drift Detection
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Drift Detection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../drift_detection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pkl Configs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Pkl Configs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../config/pkl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema_validation/pkl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI Schema Validation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Webhooks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Webhooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../web_hooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CLI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            CLI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Admin Commands
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Admin Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/admin-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Users
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Commands
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            User Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/user-config-manage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config Pull, Edit and Save
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/user-config-pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config for Pipelines
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/full-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Full Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-build-strategies" class="md-nav__link">
    Default Build Strategies
  </a>
  
    <nav class="md-nav" aria-label="Default Build Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#emit-path" class="md-nav__link">
    Emit Path
  </a>
  
    <nav class="md-nav" aria-label="Emit Path">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command" class="md-nav__link">
    Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-path-and-subdirectories" class="md-nav__link">
    Merge Path and Subdirectories
  </a>
  
    <nav class="md-nav" aria-label="Merge Path and Subdirectories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-tree" class="md-nav__link">
    Directory Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config_1" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command_1" class="md-nav__link">
    Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output_1" class="md-nav__link">
    Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-build-strategies" class="md-nav__link">
    Custom Build Strategies
  </a>
  
    <nav class="md-nav" aria-label="Custom Build Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#merge-common-data-into-a-multi-directory-config-structure" class="md-nav__link">
    Merge Common Data into a Multi Directory Config Structure
  </a>
  
    <nav class="md-nav" aria-label="Merge Common Data into a Multi Directory Config Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-tree_1" class="md-nav__link">
    Directory Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config_2" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command_2" class="md-nav__link">
    Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output_2" class="md-nav__link">
    Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strategy-definition" class="md-nav__link">
    Strategy Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output_3" class="md-nav__link">
    Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-directory-common" class="md-nav__link">
    Multiple Directory Common
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer-common-data-into-a-multi-directory-config-structure" class="md-nav__link">
    Layer Common Data into a Multi Directory Config Structure
  </a>
  
    <nav class="md-nav" aria-label="Layer Common Data into a Multi Directory Config Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#output_4" class="md-nav__link">
    Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output_5" class="md-nav__link">
    Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-config-data-creation-using-data-injection" class="md-nav__link">
    Dynamic Config Data Creation Using Data Injection
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Config Data Creation Using Data Injection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-tree_2" class="md-nav__link">
    Directory Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config_3" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="configuration-build-strategies">Configuration Build Strategies</h1>
<p>Build strategies are used to configure how configuration is compiled for use in pipelines. </p>
<h2 id="examples"><strong>Examples</strong></h2>
<p>Let's get started with some examples. Note, in these configuration examples, the file names are not taken into consideration, the only thing the config compiler cares about is file content, the object structure contained is what is merged, not the file names.</p>
<h3 id="default-build-strategies"><strong>Default Build Strategies</strong></h3>
<p>ECS ships with 2 simple inbuilt build strategies and others that configuring as they are dependent on your config diretory structure. Let's dig into the default strategies first. </p>
<h4 id="emit-path"><strong>Emit Path</strong></h4>
<p>Emit path strategy simply emits the YAML config for the path specified.</p>
<h5 id="config">Config</h5>
<p><code>ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">400</span>
</code></pre></div>
buckets.yaml
<div class="highlight"><pre><span></span><code><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">encrypted</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
<h5 id="command">Command</h5>
<p><code>cto ecs config build --path &lt;path to file or directory&gt; --format yaml</code></p>
<h5 id="output">Output</h5>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">400</span>
<span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">encrypted</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h4 id="merge-path-and-subdirectories"><strong>Merge Path and Subdirectories</strong></h4>
<p>Emit path and subdirectories strategy emits the YAML config for the path specified.</p>
<h5 id="directory-tree">Directory Tree</h5>
<div class="highlight"><pre><span></span><code>-teams  
  -ec2.yaml  
  -team-1  
    -ec2.yaml  
</code></pre></div>
<h5 id="config_1">Config</h5>
<p><code>teams/ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">small</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">400</span>
</code></pre></div></p>
<p><code>teams/team-1/ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
</code></pre></div></p>
<h5 id="command_1">Command</h5>
<p><code>cto ecs config build --path teams --recursive --format yaml</code></p>
<h5 id="output_1">Output</h5>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">small</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
</code></pre></div>
<h3 id="custom-build-strategies"><strong>Custom Build Strategies</strong></h3>
<p>In some cases ECS can't know what you want to do as after all, you can define any structure you like for your configuration. For these more complex build strategies you need to provide metadata to the config compiler so that it knows which directories to merge with which and in what order. Let's look at some examples of these strategies.</p>
<h4 id="merge-common-data-into-a-multi-directory-config-structure"><strong>Merge Common Data into a Multi Directory Config Structure</strong></h4>
<p>This is where ECS shines and facilitates your config to become DRY (Do Not Repeat Yourself).</p>
<p>Here we'll show you how to create a set of configuration files in a common directory and merge a separate multi directory structure over the top of the common thus allowing parameter overrides and additions according to pipeline needs.</p>
<p>In order to differentiate the distinct subdirectories into separate configurations we use a strategy type of <code>data_with_key_from_path</code>. This is a very useful and popular strategy.  </p>
<h5 id="directory-tree_1">Directory Tree</h5>
<div class="highlight"><pre><span></span><code>-common  
  -ec2.yaml  
  -object_storage.yaml
-teams  
  -__strategies.yaml
  -teams  
    -team-1  
      -ec2.yaml  
      -object_storage.yaml
    -team-2  
      -ec2.yaml  
      -object_storage.yaml
</code></pre></div>
<h5 id="config_2">Config</h5>
<p><code>common/ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instance_type    </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t2.medium</span>
<span class="w">  </span><span class="nt">user_data        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">  </span><span class="nt">ami              </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">  </span><span class="nt">instance_profile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span>
<span class="w">  </span><span class="nt">disk_size        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class="w">  </span><span class="nt">vpc_name         </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">    </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
<p><code>common/object_storage.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">versioning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">encryption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">        </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
<p><code>teams/team-1/ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.large</span>
</code></pre></div></p>
<p><code>teams/team-1/object_storage.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">bucket_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">team-1-bucket</span>
</code></pre></div></p>
<p><code>teams/teams/team-2/ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.xlarge</span>
</code></pre></div></p>
<p><code>teams/team-1/object_storage.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">bucket_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">team-2-bucket</span>
</code></pre></div></p>
<h5 id="command_2">Command</h5>
<p><code>cto ecs config build --path teams --strategy merge_common_to_teams --format yaml</code></p>
<h5 id="output_2">Output</h5>
<div class="highlight"><pre><span></span><code><span class="nt">team-1</span><span class="p">:</span><span class="w">                                                                       </span>
<span class="w">  </span><span class="nt">ec2</span><span class="p">:</span><span class="w">                                                                        </span>
<span class="w">    </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span><span class="w">                                                       </span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span><span class="w">                                                            </span>
<span class="w">    </span><span class="nt">instance_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span><span class="w">                                      </span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.large</span><span class="w">                                                   </span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">                                                                     </span>
<span class="w">      </span><span class="nt">terraform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">                                                         </span>
<span class="w">    </span><span class="nt">user_data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">                                                           </span>
<span class="w">    </span><span class="nt">vpc_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class="w">                                                         </span>
<span class="w">  </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">versioning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">encryption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">        </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">bucket_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">team-1-bucket</span>
<span class="nt">team-2</span><span class="p">:</span><span class="w">                                                                       </span>
<span class="w">  </span><span class="nt">ec2</span><span class="p">:</span><span class="w">                                                                        </span>
<span class="w">    </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span><span class="w">                                                       </span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span><span class="w">                                                            </span>
<span class="w">    </span><span class="nt">instance_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span><span class="w">                                      </span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.xlarge</span><span class="w">                                                  </span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">                                                                     </span>
<span class="w">      </span><span class="nt">terraform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">                                                         </span>
<span class="w">    </span><span class="nt">user_data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">                                                           </span>
<span class="w">    </span><span class="nt">vpc_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class="w"> </span>
<span class="w">  </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">versioning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">encryption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">        </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">bucket_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">team-2-bucket</span>
</code></pre></div>
<p>Note how the directory names have been added as keys in the emitted structure. This allows you to pick the config for any team, and the only configuration that was specified for the specific team was the <code>instance_type</code> and <code>bucket_name</code>.</p>
<p>To cut the config down to the specific part required for a pipeline, use the <code>--filter</code> parameter on the build command, see example below:</p>
<h5 id="strategy-definition">Strategy Definition</h5>
<p>In order to accomplish this output it is necessary to tell the config compiler what directories to work with and in what order. This is done by creating a metadata file called <code>__strategies.yaml</code> in the locatiom you wish to use as the root of the build. As you will note in the directory tree depicted above, this file is defined in the <code>teams</code> directory, the same directory specified in the <code>--path</code> parameter that was passed to <code>cto ecs config build</code>. Also note, the relative path to the common directory. ECS build strategies can access any directory below where they are placed. </p>
<p><code>./teams/__strategies.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">strategies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">merge_common_to_teams</span><span class="p">:</span>
<span class="w">    </span><span class="nt">operations</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">for_each</span><span class="p">:</span>
<span class="w">          </span><span class="nt">iterator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$team_data</span>
<span class="w">          </span><span class="nt">action</span><span class="p">:</span>
<span class="w">            </span><span class="nt">inject</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$common</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$each</span>
<span class="w">    </span><span class="nt">variable_definitions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">common</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./common</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data</span>
<span class="w">      </span><span class="nt">team_data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./teams/{team}</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_path</span>
</code></pre></div></p>
<p>This file can contain multiple strategies for specific operations on your underlaying structure. In this case we have only one strategy called <code>merge_common_with_teams</code>.</p>
<p>Let's see how to use this strategy. We'll use the <code>--filter</code> parameter to extract the area of config we are interested in. </p>
<p><code>cto ecs config build --path teams --strategy merge_common_to_teams --format yaml --filter '"team-1".s3</code></p>
<h5 id="output_3">Output</h5>
<div class="highlight"><pre><span></span><code><span class="nt">team-1</span><span class="p">:</span><span class="w">                                                                       </span>
<span class="w">  </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">versioning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">encryption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">        </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">bucket_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">team-1-bucket</span>
</code></pre></div>
<h5 id="multiple-directory-common">Multiple Directory Common</h5>
<p>It is possible to specify more directories whose contents will be merged in as necessary. Note the order below, <code>./common</code> is read in first, then <code>./override_common</code> is merged over the top, lastly the individual teams are merged over the top by using the <code>for_each</code> construct. </p>
<p><code>./teams/__strategies.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">strategies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">merge_common_and_override_to_teams</span><span class="p">:</span>
<span class="w">    </span><span class="nt">operations</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">for_each</span><span class="p">:</span>
<span class="w">          </span><span class="nt">iterator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$team_data</span>
<span class="w">          </span><span class="nt">action</span><span class="p">:</span>
<span class="w">            </span><span class="nt">inject</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$common</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$override_common</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$each</span>
<span class="w">    </span><span class="nt">variable_definitions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">common</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./common</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data</span>
<span class="w">      </span><span class="nt">override_common</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./override_common</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data</span>
<span class="w">      </span><span class="nt">team_data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./teams/{team}</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_path</span>
</code></pre></div></p>
<h4 id="layer-common-data-into-a-multi-directory-config-structure"><strong>Layer Common Data into a Multi Directory Config Structure</strong></h4>
<p>The compiler allows us to pick certain objects and dynamically merge them into destination objects. Let's modify our <code>common/ec2.yaml</code> and add some different configuration types. We'll use the base config, layer over the particular ec2 type, and then override with the specific teams config.</p>
<p><code>common/ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instance_type    </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t2.medium</span>
<span class="w">  </span><span class="nt">user_data        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">  </span><span class="nt">ami              </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">  </span><span class="nt">instance_profile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span>
<span class="w">  </span><span class="nt">disk_size        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class="w">  </span><span class="nt">vpc_name         </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">    </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">ec2-base</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instance_type    </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t2.medium</span>
<span class="w">  </span><span class="nt">user_data        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">  </span><span class="nt">ami              </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">  </span><span class="nt">instance_profile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span>
<span class="w">  </span><span class="nt">disk_size        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class="w">  </span><span class="nt">vpc_name         </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">    </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">ec2-select-type</span><span class="p">:</span>
<span class="w">    </span><span class="nt">standard</span><span class="p">:</span>
<span class="w">        </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.large</span>
<span class="w">        </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">    </span><span class="nt">developer</span><span class="p">:</span>
<span class="w">        </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.2xlarge</span>
<span class="w">        </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3000</span>
</code></pre></div></p>
<p><code>./teams/__strategies.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">strategies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">standard-ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">operations</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">for_each</span><span class="p">:</span>
<span class="w">          </span><span class="nt">iterator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$team_data</span>
<span class="w">          </span><span class="nt">action</span><span class="p">:</span>
<span class="w">            </span><span class="nt">inject</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$base</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$selected_type</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$each</span>
<span class="w">    </span><span class="nt">variable_definitions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">team_data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./teams/{team}</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_path</span>
<span class="w">      </span><span class="nt">base</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./common/ec2.yaml</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_object_field</span>
<span class="w">        </span><span class="nt">source_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2-base</span>
<span class="w">        </span><span class="nt">destination_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2</span>
<span class="w">      </span><span class="nt">selected_type</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./common/ec2.yaml</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_object_field</span>
<span class="w">        </span><span class="nt">source_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2-select-type.standard</span>
<span class="w">        </span><span class="nt">destination_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2</span>

<span class="w">  </span><span class="nt">developer-ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">operations</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">for_each</span><span class="p">:</span>
<span class="w">          </span><span class="nt">iterator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$team_data</span>
<span class="w">          </span><span class="nt">action</span><span class="p">:</span>
<span class="w">            </span><span class="nt">inject</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$base</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$selected_type</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$each</span>
<span class="w">    </span><span class="nt">variable_definitions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">team_data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./teams/{team}</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_path</span>
<span class="w">      </span><span class="nt">base</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./common/ec2.yaml</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_object_field</span>
<span class="w">        </span><span class="nt">source_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2-base</span>
<span class="w">        </span><span class="nt">destination_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2</span>
<span class="w">      </span><span class="nt">selected_type</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./common/ec2.yaml</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_object_field</span>
<span class="w">        </span><span class="nt">source_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2-select-type.developer</span>
<span class="w">        </span><span class="nt">destination_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2</span>
</code></pre></div></p>
<p>In the example strategies above, <code>standard-ec2</code> is going to first load <code>ec2-base</code> object from common, then it will overlay <code>ec2-select-type.standard</code>, then the team specific config.</p>
<p><code>cto ecs config build --path "/teams" --strategy-name standard-ec2</code> config with <code>instance_type</code> of <code>t3-large</code> for <code>team-1</code> and <code>c5.xlarge</code> for <code>team-2</code> as for that team it's overriden.</p>
<h5 id="output_4">Output</h5>
<div class="highlight"><pre><span></span><code><span class="nt">team-1</span><span class="p">:</span><span class="w">                </span>
<span class="w">  </span><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w">    </span>
<span class="w">    </span><span class="nt">instance_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span><span class="w">                                                                                                                </span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.large</span><span class="w"> </span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">              </span>
<span class="w">      </span><span class="nt">terraform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span>
<span class="w">    </span><span class="nt">user_data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">    </span>
<span class="w">    </span><span class="nt">vpc_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class="w">  </span>
<span class="nt">team-2</span><span class="p">:</span><span class="w">                </span>
<span class="w">  </span><span class="nt">ec2</span><span class="p">:</span><span class="w">                 </span>
<span class="w">    </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w">    </span>
<span class="w">    </span><span class="nt">instance_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span><span class="w">                                                                                                                </span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.xlarge</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">              </span>
<span class="w">      </span><span class="nt">terraform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span>
<span class="w">    </span><span class="nt">user_data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">    </span>
<span class="w">    </span><span class="nt">vpc_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
</code></pre></div>
<p><code>cto ecs config build --path "/teams" --strategy-name developer-ec2</code> config with <code>instance_type</code> of <code>c5.2xlarge</code> for <code>team-1</code> and <code>c5.xlarge</code> for <code>team-2</code> as for that team it's overriden.</p>
<h5 id="output_5">Output</h5>
<div class="highlight"><pre><span></span><code><span class="nt">team-1</span><span class="p">:</span><span class="w">                </span>
<span class="w">  </span><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3000</span><span class="w">    </span>
<span class="w">    </span><span class="nt">instance_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span><span class="w">                                                                                                                </span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.2xlarge</span><span class="w"> </span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">              </span>
<span class="w">      </span><span class="nt">terraform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span>
<span class="w">    </span><span class="nt">user_data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">    </span>
<span class="w">    </span><span class="nt">vpc_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class="w">  </span>
<span class="nt">team-2</span><span class="p">:</span><span class="w">                </span>
<span class="w">  </span><span class="nt">ec2</span><span class="p">:</span><span class="w">                 </span>
<span class="w">    </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">    </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3000</span><span class="w">    </span>
<span class="w">    </span><span class="nt">instance_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span><span class="w">                                                                                                                </span>
<span class="w">    </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.xlarge</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">              </span>
<span class="w">      </span><span class="nt">terraform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span>
<span class="w">    </span><span class="nt">user_data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">    </span>
<span class="w">    </span><span class="nt">vpc_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
</code></pre></div>
<h4 id="dynamic-config-data-creation-using-data-injection"><strong>Dynamic Config Data Creation Using Data Injection</strong></h4>
<p>The above config is great and gets us closer to DRY, but when we want to create multiple of some resource (imagine a Terraform for_each iterating over a list of instances to create), possibly with different configurations, we don't want to have to repeat the config for each resource. We need a way to specify a resource name/ ID and have config injected into it with overrides being possible.</p>
<h5 id="directory-tree_2">Directory Tree</h5>
<div class="highlight"><pre><span></span><code>-common  
  -ec2.yaml  
-teams  
  -__strategies.yaml
  -teams  
    -team-1  
      -ec2s.yaml  
    -team-2  
      -ec2s.yaml  
</code></pre></div>
<h5 id="config_3">Config</h5>
<p><code>common/ec2.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instance_type    </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t2.medium</span>
<span class="w">  </span><span class="nt">user_data        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">  </span><span class="nt">ami              </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-1234567890</span>
<span class="w">  </span><span class="nt">instance_profile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance-profile-1</span>
<span class="w">  </span><span class="nt">disk_size        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class="w">  </span><span class="nt">vpc_name         </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">    </span><span class="nt">terraform </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
<p><code>teams/team-1/ec2s.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">ec2-instance-1</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<span class="w">    </span><span class="nt">ec2-instance-2</span><span class="p">:</span>
<span class="w">        </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.medium</span>
<span class="w">    </span><span class="nt">ec2-instance-3</span><span class="p">:</span>
<span class="w">        </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.large</span>
<span class="w">    </span><span class="nt">ec2-instance-4</span><span class="p">:</span>
<span class="w">        </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.2xlarge</span>
</code></pre></div></p>
<p><code>teams/team-2/ec2s.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">ec2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">ec2-instance-1</span><span class="p">:</span>
<span class="w">        </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000</span>
<span class="w">    </span><span class="nt">ec2-instance-2</span><span class="p">:</span>
<span class="w">        </span><span class="nt">instance_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c5.4xlarge</span>
<span class="w">        </span><span class="nt">disk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20000</span>
</code></pre></div></p>
<p><code>./__strategies.yaml</code>
<div class="highlight"><pre><span></span><code><span class="nt">strategies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">resource_per_team</span><span class="p">:</span>
<span class="w">    </span><span class="nt">operations</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">for_each</span><span class="p">:</span>
<span class="w">          </span><span class="nt">iterator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$team_data</span>
<span class="w">          </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">for_each</span><span class="p">:</span>
<span class="w">                </span><span class="nt">iterator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$team_data.$each_key.ec2</span>
<span class="w">                </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">inject</span><span class="p">:</span>
<span class="w">                      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$base</span>
<span class="w">                      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$each_value</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">add_parent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2</span>
<span class="w">    </span><span class="nt">variable_definitions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">base</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${config_path}/common/ec2.yaml</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_object_field</span>
<span class="w">        </span><span class="nt">source_object_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2-base</span>
<span class="w">        </span><span class="nt">destination_object_path</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
<span class="w">      </span><span class="nt">team_data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${config_path}/teams/{team}</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_with_key_from_path</span>
</code></pre></div></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>